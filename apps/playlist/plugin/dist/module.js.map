{"version":3,"file":"module.js","mappings":"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","sources":["webpack:///external amd \"@emotion/css\"","webpack:///external amd \"@grafana/data\"","webpack:///external amd \"@grafana/ui\"","webpack:///external amd \"react\"","webpack:///external amd \"react-router-dom\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./utils/utils.plugin.ts","webpack:///./constants.ts","webpack:///./utils/utils.routing.ts","webpack:///./pages/main.tsx","webpack:///./components/Routes/Routes.tsx","webpack:///./module.ts","webpack:///./App.tsx"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__89__;","module.exports = __WEBPACK_EXTERNAL_MODULE__781__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","module.exports = __WEBPACK_EXTERNAL_MODULE__959__;","module.exports = __WEBPACK_EXTERNAL_MODULE__806__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React, { useContext } from 'react';\nimport { AppRootProps } from '@grafana/data';\n\n// This is used to be able to retrieve the root plugin props anywhere inside the app.\nexport const PluginPropsContext = React.createContext<AppRootProps | null>(null);\n\nexport const usePluginProps = () => {\n  const pluginProps = useContext(PluginPropsContext);\n\n  return pluginProps;\n};\n\nexport const usePluginMeta = () => {\n  const pluginProps = usePluginProps();\n\n  return pluginProps?.meta;\n};\n","import { NavItem } from 'types';\n\nexport const PLUGIN_ID = \"grafana-playlist-app\";\nexport const PLUGIN_BASE_URL = `/a/${PLUGIN_ID}`;\nexport const PLUGIN_API_URL = `/api/plugins/${PLUGIN_ID}/resources/v1`;\n\nexport enum ROUTES {\n  Main = 'todos',\n}\n\nexport const NAVIGATION_TITLE = 'Basic App Plugin';\nexport const NAVIGATION_SUBTITLE = 'Some extra description...';\n\n// Add a navigation item for each route you would like to display in the navigation bar\nexport const NAVIGATION: Record<string, NavItem> = {\n  [ROUTES.Main]: {\n    id: ROUTES.Main,\n    text: 'Main Page',\n    icon: 'database',\n    url: `${PLUGIN_BASE_URL}/main`,\n  },\n};\n","import { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { NavModel, NavModelItem } from '@grafana/data';\nimport { usePluginProps } from './utils.plugin';\nimport { NAVIGATION, NAVIGATION_TITLE, NAVIGATION_SUBTITLE, PLUGIN_BASE_URL } from '../constants';\n\n// Displays a top navigation tab-bar if needed\nexport function useNavigation() {\n  const pluginProps = usePluginProps();\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!pluginProps) {\n      console.error('Root plugin props are not available in the context.');\n      return;\n    }\n\n    const activeId = Object.keys(NAVIGATION).find((routeId) => location.pathname.includes(routeId)) || '';\n    const activeNavItem = NAVIGATION[activeId];\n    const { onNavChanged, meta, basename } = pluginProps;\n\n    // Disable tab navigation\n    // (the route is not registered as a navigation item)\n    if (!activeNavItem) {\n      onNavChanged(undefined as unknown as NavModel);\n    }\n\n    // Show tabbed navigation with the active tab\n    else {\n      onNavChanged(\n          getNavModel({\n            activeId,\n            basePath: basename,\n            logoUrl: meta.info.logos.large,\n          })\n      );\n    }\n  }, [location.pathname, pluginProps]);\n}\n\n// Prefixes the route with the base URL of the plugin\nexport function prefixRoute(route: string): string {\n  return `${PLUGIN_BASE_URL}/${route}`;\n}\n\nexport function getNavModel({ activeId, basePath, logoUrl }: { activeId: string; basePath: string; logoUrl: string }) {\n  const main = {\n    text: NAVIGATION_TITLE,\n    subTitle: NAVIGATION_SUBTITLE,\n    url: basePath,\n    img: logoUrl,\n    children: Object.values(NAVIGATION).map((navItem) => ({\n      ...navItem,\n      active: navItem.id === activeId,\n    })),\n  } as NavModelItem;\n\n  return {\n    main,\n    node: main,\n  };\n}\n","import * as React from 'react';\nimport { css } from '@emotion/css';\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\n\n\n// TodoList represents the plugin page that list todos.\n// Within this page the user can list, create and delete todos.\nexport const MainPage = () => {\n  useStyles2(getStyles);\n\n  return (\n      <div>\n        <h1>Main Landing Page</h1>\n        <div>This is your main landing page</div>\n      </div>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  marginTop: css`\n    margin-top: ${theme.spacing(2)};\n  `,\n});\n","import * as React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { useNavigation, prefixRoute } from 'utils/utils.routing';\nimport { ROUTES } from '../../constants';\nimport { MainPage } from '../../pages';\n\nexport const Routes = () => {\n  useNavigation();\n\n  return (\n    <Switch>\n      <Route exact path={prefixRoute(ROUTES.Main)} component={MainPage} />\n\n      {/* Default page */}\n      <Route exact path=\"*\">\n        <Redirect to={prefixRoute(ROUTES.Main)} />\n      </Route>\n    </Switch>\n  );\n};\n","import { AppPlugin, AppRootProps } from '@grafana/data';\nimport { ComponentClass } from 'react';\nimport { App } from './App';\n\nexport const plugin = new AppPlugin().setRootPage(App as unknown as ComponentClass<AppRootProps>);\n","import * as React from 'react';\nimport { AppRootProps } from '@grafana/data';\nimport { PluginPropsContext } from 'utils/utils.plugin';\nimport { Routes } from 'components/Routes';\nimport { JsonData } from './types';\n\nexport const App = (props: AppRootProps<JsonData>) => {\n    return (\n        <PluginPropsContext.Provider value={props}>\n            <Routes />\n        </PluginPropsContext.Provider>\n    );\n};\n"],"names":["module","exports","__WEBPACK_EXTERNAL_MODULE__89__","__WEBPACK_EXTERNAL_MODULE__781__","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__959__","__WEBPACK_EXTERNAL_MODULE__806__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","PluginPropsContext","React","PLUGIN_BASE_URL","ROUTES","Main","NAVIGATION","id","text","icon","url","useNavigation","pluginProps","useContext","location","useLocation","useEffect","console","error","activeId","keys","find","routeId","pathname","includes","activeNavItem","onNavChanged","meta","basename","basePath","logoUrl","main","subTitle","img","children","values","map","navItem","active","node","getNavModel","info","logos","large","prefixRoute","route","MainPage","useStyles2","getStyles","div","h1","theme","marginTop","css","spacing","Routes","Switch","Route","exact","path","component","Redirect","to","plugin","AppPlugin","setRootPage","props","Provider"],"sourceRoot":""}